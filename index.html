<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Springwalk Content Manager</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Ctext y='14' font-size='12'%3ESW%3C/text%3E%3C/svg%3E">
  <link rel="stylesheet" href="styles/main.css" />
  <style>
    body { max-width: 900px; margin: 24px auto; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height: 1.5; }
    pre#output { white-space: pre-wrap; word-wrap: break-word; border: 1px solid #ddd; padding: 10px; border-radius: 6px; min-height: 120px; background:#fafafa; }
    textarea, input[type="text"], input[type="url"], select { width: 100%; }
    fieldset { border:1px solid #e5e5e5; padding:10px; margin:12px 0; border-radius:8px; }
    legend { padding:0 6px; font-weight:600; color:#444; }
    label.inline { display:inline-block; margin-right:12px; }
    #actions button { margin-right: 8px; }
    #drafts, #checks { white-space: pre-wrap; }
  </style>
</head>
<body>
  <h1>Generátor obsahu – Springwalk</h1>

  <form id="generate-form" autocomplete="on">
    <label>Název projektu:<br />
      <input type="text" id="projectName" value="Springwalk – MVP" required />
    </label>

    <fieldset>
      <legend>Vstupy</legend>
      <label>Klíčová slova:<br />
        <input type="text" id="keywords" placeholder="např. advokacie, právo, compliance" />
      </label><br />
      <label>Zdrojový text / URL (podklad pro generování):<br />
        <textarea id="sourceText" rows="6" placeholder="vložit tiskovou zprávu nebo článek"></textarea>
      </label><br />
      <label>Odkaz na web (vloží se jako holá URL):<br />
        <input type="url" id="linkUrl" placeholder="https://springwalk.cz" required />
      </label><br />

      <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px">
        <label>Tone of Voice (hlavní):<br />
          <select id="tone">
            <option value="profesionální" selected>Profesionální</option>
            <option value="formální">Formální</option>
            <option value="suchý">Suchý</option>
            <option value="empatický">Empatický</option>
            <option value="stručný">Stručný</option>
            <option value="hravý">Hravý</option>
            <option value="veselý">Veselý</option>
            <option value="chlubivý">Chlubivý</option>
            <option value="pyšný">Pyšný</option>
            <option value="expresivní">Expresivní</option>
            <option value="neutrální">Neutrální</option>
            <option value="edukativní">Edukativní</option>
            <option value="konzervativní">Konzervativní</option>
            <option value="pro management">Pro management</option>
          </select>
        </label>
        <label>Délka:<br />
          <select id="length">
            <option value="krátká" selected>Krátká</option>
            <option value="střední">Střední</option>
            <option value="dlouhá">Dlouhá</option>
          </select>
        </label>
      </div>

      <div style="margin-top:6px">
        <div><strong>Doplňkové TOV (volitelné, lze kombinovat):</strong></div>
        <label class="inline"><input type="checkbox" name="toneExtra" value="formální"> formální</label>
        <label class="inline"><input type="checkbox" name="toneExtra" value="suchý"> suchý</label>
        <label class="inline"><input type="checkbox" name="toneExtra" value="edukativní"> edukativní</label>
        <label class="inline"><input type="checkbox" name="toneExtra" value="chlubivý"> chlubivý</label>
        <label class="inline"><input type="checkbox" name="toneExtra" value="pyšný"> pyšný</label>
        <label class="inline"><input type="checkbox" name="toneExtra" value="stručný"> stručný</label>
        <label class="inline"><input type="checkbox" name="toneExtra" value="pro management"> pro management</label>
      </div>
      <small>Kombinace se pošle modelu jako např. „profesionální + edukativní + pro management“ (vyváženě, v souladu s ČAK).</small>
    </fieldset>

    <fieldset>
      <legend>TOV presety</legend>
      <div style="display:grid; grid-template-columns:1fr auto; gap:8px; align-items:end;">
        <label>Název presetu<br />
          <input type="text" id="presetName" placeholder="např. Stručný management" />
        </label>
        <button id="btnSavePreset" type="button">Uložit jako preset (LinkedIn)</button>
      </div>

      <div style="display:grid; grid-template-columns:1fr auto auto; gap:8px; align-items:end; margin-top:8px">
        <label>Vybrat preset<br />
          <select id="presetSelect"><option value="">(načti presety)</option></select>
        </label>
        <button id="btnLoadPresets" type="button">Načíst presety</button>
        <button id="btnApplyPreset" type="button">Použít preset</button>
      </div>
      <small>Presety jsou uloženy per projekt a kanál (zde: LinkedIn).</small>
    </fieldset>

    <fieldset>
      <legend>UTM</legend>
      <label class="inline"><input type="checkbox" id="addUtm" checked> Přidat UTM parametry do odkazu</label>
      <label class="inline" style="margin-left:16px;"><input type="checkbox" id="utmAutoSync" checked> Auto-sync kampaně s názvem projektu</label>
      <div style="display:grid; grid-template-columns:repeat(5,1fr); gap:8px; margin-top:8px">
        <label>utm_source<br /><input type="text" id="utmSource" value="linkedin" /></label>
        <label>utm_medium<br /><input type="text" id="utmMedium" value="organic" /></label>
        <label>utm_campaign<br /><input type="text" id="utmCampaign" value="springwalk-mvp" /></label>
        <label>utm_content<br /><input type="text" id="utmContent" placeholder="volitelné" /></label>
        <label>utm_term<br /><input type="text" id="utmTerm" placeholder="volitelné" /></label>
      </div>
    </fieldset>

    <button id="btnGenerate" type="button">GENEROVAT LINKEDIN POST</button>
  </form>

  <h2>Výstup:</h2>
  <pre id="output">(zatím prázdné)</pre>
  <textarea id="outputEdit" rows="10" style="width:100%;display:none;"></textarea>

  <div id="actions" style="margin:8px 0;">
    <button id="btnCopy" type="button">Zkopírovat</button>
    <button id="btnShorten" type="button">Zkrátit na 900 znaků</button>
    <button id="btnToggleEdit" type="button">Upravit text</button>
    <button id="btnSaveDraft" type="button">Uložit jako nový draft</button>
  </div>

  <h2>Kontroly:</h2>
  <div id="checks"></div>

  <h2>Drafty:</h2>
  <button id="btnLoadDrafts" type="button">Načíst drafty</button>
  <div id="drafts"></div>

  <!-- Config dřív než main; query param kvůli cache -->
  <script src="scripts/config.js?v=2025-10-09h"></script>
  <script src="scripts/main.js?v=2025-10-09h"></script>
  <noscript>Pro použití této stránky povolte JavaScript.</noscript>
</body>
</html>
